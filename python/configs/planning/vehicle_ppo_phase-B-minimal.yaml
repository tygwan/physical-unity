# Phase B: Decision Learning - PPO Configuration (Minimal)
# Focuses on validating and enhancing overtaking decision-making
# Created: 2026-01-28

behaviors:
  E2EDrivingAgent:
    trainer_type: ppo

    hyperparameters:
      batch_size: 4096
      buffer_size: 40960
      learning_rate: 3.0e-4
      beta: 5.0e-3
      epsilon: 0.2
      lambd: 0.99
      num_epoch: 10
      learning_rate_schedule: constant

    network_settings:
      normalize: true
      hidden_units: 512
      num_layers: 3

    reward_signals:
      extrinsic:
        gamma: 0.995
        strength: 1.0

    max_steps: 3000000
    time_horizon: 2048
    summary_freq: 50000
    checkpoint_interval: 500000
    keep_checkpoints: 5
    threaded: false

    # INITIALIZATION: Phase 0 checkpoint
    init_path: results/phase-0-foundation/E2EDrivingAgent/E2EDrivingAgent-8000047.pt

# Phase B Environment: Decision Learning with mixed NPCs
environment_parameters:
  num_active_npcs: 2
  npc_speed_min: 8.0
  npc_speed_max: 15.0
