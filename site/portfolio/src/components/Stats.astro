---
import { stats } from '../data/phases';
import { getTranslations, type Lang } from '../i18n';

interface Props { lang?: Lang; }
const { lang = 'en' } = Astro.props;
const t = getTranslations(lang);

const dashboardItems = [
  { value: `+${stats.maxReward.toLocaleString()}`, label: t.stats.peakReward, sub: t.stats.peakRewardSub, color: 'text-amber-400', bg: 'bg-amber-500/10', border: 'border-amber-500/15' },
  { value: `${stats.completedPhases}/${stats.totalPhases}`, label: t.stats.phasesComplete, sub: `${stats.failedAttempts} ${t.stats.failedAttempts}`, color: 'text-sky-400', bg: 'bg-sky-500/10', border: 'border-sky-500/15' },
  { value: `${stats.observationDim}D`, label: t.stats.observationSpace, sub: t.stats.observationSub, color: 'text-violet-400', bg: 'bg-violet-500/10', border: 'border-violet-500/15' },
  { value: `${stats.parallelAreas}`, label: t.stats.parallelEnvs, sub: t.stats.parallelSub, color: 'text-emerald-400', bg: 'bg-emerald-500/10', border: 'border-emerald-500/15' },
  { value: stats.collisionRateTarget, label: t.stats.collisionRate, sub: t.stats.collisionSub, color: 'text-rose-400', bg: 'bg-rose-500/10', border: 'border-rose-500/15' },
  { value: stats.totalPolicies.toString(), label: t.stats.policiesDiscovered, sub: t.stats.policiesSub, color: 'text-orange-400', bg: 'bg-orange-500/10', border: 'border-orange-500/15' },
];
---

<section class="py-12 border-b border-slate-800/40">
  <div class="mx-auto max-w-7xl px-6">
    <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6">
      {dashboardItems.map((item) => (
        <div class={`rounded-xl border ${item.border} ${item.bg} p-4 text-center transition hover:bg-opacity-20 card-glow`}>
          <div class={`text-2xl font-bold font-mono ${item.color}`}>{item.value}</div>
          <div class="mt-1 text-sm font-medium text-slate-300">{item.label}</div>
          <div class="mt-0.5 text-xs text-slate-500">{item.sub}</div>
        </div>
      ))}
    </div>
  </div>
</section>
